/* src/globals.css — Fortis v1.0.0 Sovereign Color System */

/* Fortis Brand Font Stack */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');

/* ============================================================
   FORTIS STRATEGIC COLOR PALETTE
   Sovereign Style — Premium, Student & Young Professional Focus
   ============================================================ */
:root {
  /* === Primary Brand Colors === */
  --castle-red:     #9B1B30;   /* Deep Crimson — Primary actions, highlights */
  --castle-red-dark:#7A1526;   /* Hover state for Crimson */
  --engine-navy:    #0F172A;   /* Slate Midnight — Structural navy, headings */
  --field-green:    #10B981;   /* Emerald Green — Healthy savings, positive flow */
  --safety-amber:   #F59E0B;   /* Amber — Caution thresholds (85%+) */
  --fortress-steel: #64748B;   /* Slate Blue — Secondary labels, borders */

  /* === Background / Surface === */
  --bg:             #F8FAFC;   /* Slate White — Main app background */
  --surface:        #FFFFFF;   /* Card surface */
  --surface-raised: #F1F5F9;   /* Subtle elevation */
  --border:         #E2E8F0;   /* Clean dividers */
  --border-subtle:  #F8FAFC;   /* Very soft dividers */

  /* === Text === */
  --text-primary:   #0F172A;   /* Slate Midnight — Headings, key data */
  --text-secondary: #475569;   /* Slate Gray — Body copy, labels */
  --text-muted:     #94A3B8;   /* Muted placeholders */

  /* === Semantic / Status Colors === */
  --status-healthy: #10B981;   /* < 85% spent */
  --status-caution: #F59E0B;   /* 85%–99% spent */
  --status-limit:   #E11D48;   /* 100% spent (Formerly breach) */
  --status-over:    #0F172A;   /* Over budget (Formerly combat) */

  /* === Shadcn/Radix CSS Variable Bridge ===
     These map Fortis values to the variable names used by
     shadcn components so existing UI components inherit the theme. */
  --background:          var(--bg);
  --foreground:          var(--text-primary);
  --card:                var(--surface);
  --card-foreground:     var(--text-primary);
  --primary:             var(--engine-navy);
  --primary-foreground:  #FFFFFF;
  --secondary:           var(--surface-raised);
  --secondary-foreground:var(--text-primary);
  --muted:               var(--surface-raised);
  --muted-foreground:    var(--text-muted);
  --accent:              var(--surface-raised);
  --accent-foreground:   var(--text-primary);
  --destructive:         var(--castle-red);
  --destructive-foreground: #FFFFFF;
  --border-color:        var(--border);
  --input:               var(--border);
  --input-background:    var(--surface);
  --ring:                var(--castle-red);
  --popover:             var(--surface);
  --popover-foreground:  var(--text-primary);
  --switch-background:   var(--border);
  --radius:              0.5rem; /* Softer, modern radius (was 0.375rem) */

  /* === Chart palette === */
  --chart-1: var(--castle-red);
  --chart-2: var(--field-green);
  --chart-3: var(--safety-amber);
  --chart-4: var(--engine-navy);
  --chart-5: var(--fortress-steel);

  /* === Font sizes === */
  --font-size: 16px;
}

/* ============================================================
   FORCE LIGHT MODE — No dark-mode bleed
   ============================================================ */
html:not(.dark) {
  background-color: var(--bg) !important;
  color: var(--text-primary) !important;
}

/* ============================================================
   BASE TYPOGRAPHY
   Clean, airy, and modern aesthetic
   ============================================================ */
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: var(--font-size);
  background-color: var(--bg);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Monospaced treatment for all currency, version, and data figures */
.font-mono,
[data-slot="currency"],
.tabular-nums {
  font-family: 'JetBrains Mono', 'Courier New', monospace;
  font-variant-numeric: tabular-nums;
}

/* Headings — tight, authoritative */
h1, h2, h3, h4, h5, h6 {
  letter-spacing: -0.025em;
  font-weight: 700;
}

/* ============================================================
   FOUR-TIER BUDGET INDICATOR SYSTEM
   Applied to budget cards / progress rows
   ============================================================ */

/* Tier 1 — Secure (< 85%) */
.budget-secure {
  border-left: 4px solid var(--field-green) !important;
}
.budget-secure .budget-status-label { color: var(--field-green); }

/* Tier 2 — Caution (85%–99%) */
.budget-caution {
  border-left: 4px solid var(--safety-amber) !important;
}
.budget-caution .budget-status-label { color: var(--safety-amber); }

/* Tier 3 — Limit Reached (exactly 100%) - Formerly Breach */
.budget-limit {
  border-left: 4px solid var(--status-limit) !important;
}
.budget-limit .budget-status-label { color: var(--status-limit); }

/* Tier 4 — Over Budget (over 100%) - Formerly Combat */
.budget-over {
  background-color: var(--engine-navy) !important;
  color: #FFFFFF !important;
  border-left: 4px solid var(--castle-red) !important;
}
.budget-over .budget-status-label { color: #FDA4AF; }
.budget-over p, .budget-over span { color: #94A3B8; }
.budget-over h4 { color: #FFFFFF; }

/* ============================================================
   COMPONENT SOLIDIFICATION
   Ensures Radix/shadcn components always render with correct backgrounds
   ============================================================ */
[data-slot="card"],
[data-slot="dialog-content"],
[data-slot="alert-dialog-content"],
[data-slot="popover-content"],
[data-slot="select-content"],
[data-slot="tabs-list"] {
  background-color: var(--surface) !important;
  opacity: 1 !important;
}

[data-slot="input"],
[data-slot="select-trigger"],
textarea, select {
  background-color: var(--input-background) !important;
  opacity: 1 !important;
}

[data-slot="button"] { opacity: 1 !important; }

[data-slot="table"] { background-color: var(--surface); }
[data-slot="table-row"]:hover {
  background-color: var(--surface-raised) !important;
  opacity: 1 !important;
}

[data-slot="alert"] {
  background-color: var(--surface) !important;
  opacity: 1 !important;
}

[data-slot="progress"] {
  background-color: var(--border) !important;
  opacity: 1 !important;
}

[data-slot="badge"] { opacity: 1 !important; }

[data-slot="switch"] {
  background-color: var(--switch-background);
  opacity: 1 !important;
}
[data-slot="switch"][data-state="checked"] {
  background-color: var(--field-green) !important;
}
[data-slot="switch"][data-state="unchecked"] {
  background-color: #EF4444 !important;
}

[role="menu"], [role="listbox"] {
  background-color: var(--popover) !important;
  opacity: 1 !important;
}

/* ============================================================
   CARD STYLING — Premium Fintech Look
   Modern radius, clean and airy shadow
   ============================================================ */
[data-slot="card"] {
  border-radius: var(--radius) !important;
  border-color: var(--border) !important;
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.05),
    0 1px 2px rgba(0, 0, 0, 0.03) !important;
}

[data-slot="dialog-content"],
[data-slot="alert-dialog-content"] {
  border-radius: var(--radius) !important;
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.1),
    0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
}

/* ============================================================
   BUTTON TACTILE FEEL — Smooth scaling instead of harsh shadows
   ============================================================ */
[data-slot="button"]:not([disabled]) {
  border-radius: var(--radius) !important;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
  transition: all 150ms ease !important;
}
[data-slot="button"]:not([disabled]):active {
  transform: scale(0.98) !important;
  box-shadow: 0 0 0 0 rgba(0, 0, 0, 0) !important;
}

/* Deep Crimson primary action button */
.btn-fortis-primary {
  background-color: var(--castle-red) !important;
  color: #FFFFFF !important;
}
.btn-fortis-primary:hover:not([disabled]) {
  background-color: var(--castle-red-dark) !important;
}

/* Slate Midnight structural button */
.btn-fortis-navy {
  background-color: var(--engine-navy) !important;
  color: #FFFFFF !important;
}
.btn-fortis-navy:hover:not([disabled]) {
  background-color: #1E293B !important; /* Lighter slate hover */
}

/* ============================================================
   NAVIGATION BAR — Modern Surface
   ============================================================ */
.fortis-nav {
  background-color: var(--surface) !important;
  border-bottom: 1px solid var(--border) !important;
}

/* ============================================================
   TRANSITIONS — Smooth and responsive
   ============================================================ */
* {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* ============================================================
   MISC UTILITIES
   ============================================================ */
::backdrop {
  background-color: rgba(15, 23, 42, 0.4); /* Softer slate overlay */
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb {
  background: var(--text-muted);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover { background: var(--fortress-steel); }

/* Border style reset */
* { border-style: solid; }