/* src/globals.css — Fortis v1.0.0 Strategic Color System */

/* Fortis Brand Font Stack */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap');

/* ============================================================
   FORTIS STRATEGIC COLOR PALETTE
   Inspired by 12B Combat Engineer / USACE Heritage
   ============================================================ */
:root {
  /* === Primary Brand Colors === */
  --castle-red:     #8B1219;   /* Primary brand — buttons, primary icons */
  --castle-red-dark:#630D12;   /* Hover state for castle red */
  --engine-navy:    #1B263B;   /* Structural navy — nav bars, sidebar */
  --field-green:    #166534;   /* Healthy/positive — under budget, savings */
  --safety-amber:   #D97706;   /* Warning — 85%–99% threshold */
  --fortress-steel: #475569;   /* Secondary text — labels, grid lines */

  /* === Background / Surface === */
  --bg:             #F8FAFC;   /* Concrete Slate — main app background */
  --surface:        #FFFFFF;   /* Card surface */
  --surface-raised: #F1F5F9;   /* Slightly elevated surfaces */
  --border:         #CBD5E1;   /* Structural borders */
  --border-subtle:  #E2E8F0;   /* Subtle dividers */

  /* === Text === */
  --text-primary:   #0F172A;   /* Near-black — headings, key data */
  --text-secondary: #475569;   /* Fortress Steel — body copy, labels */
  --text-muted:     #94A3B8;   /* Deactivated states, placeholders */

  /* === Semantic / Status Colors === */
  --status-healthy: #166534;   /* < 85% spent */
  --status-caution: #D97706;   /* 85%–99% spent */
  --status-breach:  #991B1B;   /* 100% spent */
  --status-combat:  #0F172A;   /* Over budget — full inversion */

  /* === Shadcn/Radix CSS Variable Bridge ===
     These map Fortis values to the variable names used by
     shadcn components so existing UI components inherit the theme. */
  --background:          var(--bg);
  --foreground:          var(--text-primary);
  --card:                var(--surface);
  --card-foreground:     var(--text-primary);
  --primary:             var(--engine-navy);
  --primary-foreground:  #FFFFFF;
  --secondary:           var(--surface-raised);
  --secondary-foreground:var(--text-primary);
  --muted:               var(--surface-raised);
  --muted-foreground:    var(--text-muted);
  --accent:              var(--surface-raised);
  --accent-foreground:   var(--text-primary);
  --destructive:         var(--castle-red);
  --destructive-foreground: #FFFFFF;
  --border-color:        var(--border-subtle);
  --input:               var(--border);
  --input-background:    var(--surface);
  --ring:                var(--engine-navy);
  --popover:             var(--surface);
  --popover-foreground:  var(--text-primary);
  --switch-background:   var(--border);
  --radius:              0.375rem; /* Slightly sharp — more "engineered" */

  /* === Chart palette === */
  --chart-1: var(--castle-red);
  --chart-2: var(--field-green);
  --chart-3: var(--safety-amber);
  --chart-4: var(--engine-navy);
  --chart-5: var(--fortress-steel);

  /* === Font sizes === */
  --font-size: 16px;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ============================================================
   FORCE LIGHT MODE — No dark-mode bleed
   ============================================================ */
html:not(.dark) {
  background-color: var(--bg) !important;
  color: var(--text-primary) !important;
}

/* ============================================================
   BASE TYPOGRAPHY
   "Technical Manual" aesthetic — precise, purposeful
   ============================================================ */
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: var(--font-size);
  background-color: var(--bg);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Monospaced treatment for all currency, version, and data figures */
.font-mono,
[data-slot="currency"],
.tabular-nums {
  font-family: 'JetBrains Mono', 'Courier New', monospace;
  font-variant-numeric: tabular-nums;
}

/* Headings — tight, authoritative */
h1, h2, h3, h4, h5, h6 {
  letter-spacing: -0.02em;
}

/* ============================================================
   FOUR-TIER BUDGET INDICATOR SYSTEM
   Applied to budget cards / progress rows
   ============================================================ */

/* Tier 1 — Secure (< 85%) */
.budget-secure {
  border-left: 4px solid var(--field-green) !important;
}
.budget-secure .budget-status-label { color: var(--field-green); }

/* Tier 2 — Caution (85%–99%) */
.budget-caution {
  border-left: 4px solid var(--safety-amber) !important;
}
.budget-caution .budget-status-label { color: var(--safety-amber); }

/* Tier 3 — Breach (exactly 100%) */
.budget-breach {
  border-left: 4px solid #991B1B !important;
}
.budget-breach .budget-status-label { color: #991B1B; }

/* Tier 4 — Combat (over 100%) */
.budget-combat {
  background-color: var(--engine-navy) !important;
  color: #FFFFFF !important;
  border-left: 4px solid var(--castle-red) !important;
}
.budget-combat .budget-status-label { color: #FCA5A5; }
.budget-combat p, .budget-combat span { color: #CBD5E1; }
.budget-combat h4 { color: #FFFFFF; }

/* ============================================================
   COMPONENT SOLIDIFICATION
   Ensures Radix/shadcn components always render with correct backgrounds
   ============================================================ */
[data-slot="card"],
[data-slot="dialog-content"],
[data-slot="alert-dialog-content"],
[data-slot="popover-content"],
[data-slot="select-content"],
[data-slot="tabs-list"] {
  background-color: var(--surface) !important;
  opacity: 1 !important;
}

[data-slot="input"],
[data-slot="select-trigger"],
textarea, select {
  background-color: var(--input-background) !important;
  opacity: 1 !important;
}

[data-slot="button"] { opacity: 1 !important; }

[data-slot="table"] { background-color: var(--surface); }
[data-slot="table-row"]:hover {
  background-color: var(--surface-raised) !important;
  opacity: 1 !important;
}

[data-slot="alert"] {
  background-color: var(--surface) !important;
  opacity: 1 !important;
}

[data-slot="progress"] {
  background-color: var(--surface-raised) !important;
  opacity: 1 !important;
}

[data-slot="badge"] { opacity: 1 !important; }

[data-slot="switch"] {
  background-color: var(--switch-background);
  opacity: 1 !important;
}
[data-slot="switch"][data-state="checked"] {
  background-color: var(--field-green) !important;
}
[data-slot="switch"][data-state="unchecked"] {
  background-color: #EF4444 !important;
}

[role="menu"], [role="listbox"] {
  background-color: var(--popover) !important;
  opacity: 1 !important;
}

/* ============================================================
   CARD STYLING — "Engineered" look
   Slightly sharp corners, subtle tactile shadow
   ============================================================ */
[data-slot="card"] {
  border-radius: 0.375rem !important;
  border-color: var(--border-subtle) !important;
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.06),
    0 1px 2px rgba(0, 0, 0, 0.04) !important;
}

[data-slot="dialog-content"],
[data-slot="alert-dialog-content"] {
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.12),
    0 10px 10px -5px rgba(0, 0, 0, 0.06) !important;
}

/* ============================================================
   BUTTON TACTILE FEEL — "Pressable hardware" aesthetic
   ============================================================ */
[data-slot="button"]:not([disabled]) {
  box-shadow: 0 2px 0 0 rgba(0, 0, 0, 0.12) !important;
  transition: all 120ms ease !important;
}
[data-slot="button"]:not([disabled]):active {
  transform: translateY(1px) !important;
  box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.12) !important;
}

/* Castle Red primary action button */
.btn-fortis-primary {
  background-color: var(--castle-red) !important;
  color: #FFFFFF !important;
  box-shadow: 0 2px 0 0 var(--castle-red-dark) !important;
}
.btn-fortis-primary:hover:not([disabled]) {
  background-color: var(--castle-red-dark) !important;
}

/* Engine Navy structural button */
.btn-fortis-navy {
  background-color: var(--engine-navy) !important;
  color: #FFFFFF !important;
  box-shadow: 0 2px 0 0 #0F1C30 !important;
}
.btn-fortis-navy:hover:not([disabled]) {
  background-color: #0F1C30 !important;
}

/* ============================================================
   NAVIGATION BAR — Engine Navy
   ============================================================ */
.fortis-nav {
  background-color: var(--engine-navy) !important;
  border-bottom: 1px solid #243450 !important;
}

/* ============================================================
   TRANSITIONS — Smooth but not sluggish
   ============================================================ */
* {
  transition-property: background-color, border-color, color, fill, stroke, box-shadow;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 120ms;
}

/* ============================================================
   MISC UTILITIES
   ============================================================ */
::backdrop {
  background-color: rgba(15, 23, 42, 0.6); /* navy-tinted overlay */
}

/* Scrollbar */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--surface-raised); }
::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover { background: var(--fortress-steel); }

/* Border style reset */
* { border-style: solid; }